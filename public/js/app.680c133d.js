(function(){"use strict";var t={2262:function(t,e,o){var a=o(144),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("Header"),o("router-view"),o("Footer")],1)},r=[],i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"footer mt-16"},[o("v-footer",{attrs:{app:"",color:"black ",padless:""}},[o("v-col",{staticClass:"text-center white--text",attrs:{cols:"12"}},[o("strong",[t._v("Biblioteca SENA San Gil - ")]),t._v(" "+t._s((new Date).getFullYear())+" ")])],1)],1)},l=[],n={name:"PageFooter",data(){return{}}},c=n,d=o(3736),v=o(3453),u=o.n(v),m=o(266),h=o(8271),p=(0,d.Z)(c,i,l,!1,null,null,null),g=p.exports;u()(p,{VCol:m.Z,VFooter:h.Z});var f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"mt-1 mb-5"},[o("v-app-bar",{attrs:{app:"",flex:"",color:"black",dark:""}},[""!==t.$store.state.token?o("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!0}}}):t._e(),o("v-toolbar-title",[t._v("Prestamo Bibliotecario")]),o("v-spacer"),""!==t.$store.state.token?o("v-btn",{staticClass:"orange black--text",on:{click:function(e){return t.salir()}}},[t._v(" salir "),o("v-icon",[t._v("mdi-door-open")])],1):t._e()],1),o("v-navigation-drawer",{attrs:{temporary:"",absolute:"",color:"black"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[o("v-list",[o("v-list-item",[o("h1")]),o("v-list-item",{staticClass:"d-flex justify-center",attrs:{to:"/perfil"}},[o("v-avatar",{attrs:{color:"white",size:"62"}},[o("v-img",{attrs:{src:t.$store.state.foto}})],1)],1),o("v-list-item",{staticClass:"d-flex justify-center white--text mt-4 mb-4"},[o("h3",{attrs:{align:"center",justify:"center"}},[t._v(t._s(t.$store.state.datos.name))])]),o("v-list-item",{attrs:{to:"/inicio"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-home")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Home")])],1),"ADMIN"===t.$store.state.datos.rol?o("v-list-item",{attrs:{to:"/persona"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-account")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Holders")])],1):t._e(),"GUARDA"==t.$store.state.datos.rol||"BIBLIOTECARIA"==t.$store.state.datos.rol||"ADMIN"==t.$store.state.datos.rol?o("v-list-item",{attrs:{to:"/usuarioregistro"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-account")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Agregar movimiento")])],1):t._e(),"ADMIN"===t.$store.state.datos.rol?o("v-list-item",{attrs:{to:"/equipo"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-monitor")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Computadoras")])],1):t._e(),"ADMIN"===t.$store.state.datos.rol?o("v-list-item",{attrs:{to:"/registro"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-book-open-page-variant")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Registros de E/S")])],1):t._e(),"APRENDIZ"===t.$store.state.datos.rol?o("v-list-item",{attrs:{to:"/misregistros"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-book-open-page-variant")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Mis prestamos")])],1):t._e(),o("v-list-item",{attrs:{to:"/miequipo"}},[o("v-list-item-icon",{staticClass:"white--text"},[o("v-icon",{attrs:{color:"white"}},[t._v("mdi-laptop")])],1),o("v-list-item-title",{staticClass:"white--text"},[t._v("Mis equipos")])],1)],1)],1)],1)},b=[],x={name:"PageHeader",data(){return{drawer:!1,group:null,rol:this.$store.state.datos.rol}},methods:{salir(){this.$router.replace("/"),this.$store.commit("setToken",""),this.$store.commit("setDatos",{}),this.$store.commit("setFoto",""),this.$store.commit("setLugar",""),this.imagen=""}},computed:{}},C=x,k=o(6232),_=o(5550),y=o(3423),$=o(4562),w=o(4324),V=o(5495),Z=o(5808),I=o(4525),A=o(4611),T=o(8627),R=o(9709),E=o(3687),B=o(7953),D=(0,d.Z)(C,f,b,!1,null,null,null),S=D.exports;u()(D,{VAppBar:k.Z,VAppBarNavIcon:_.Z,VAvatar:y.Z,VBtn:$.Z,VIcon:w.Z,VImg:V.Z,VList:Z.Z,VListItem:I.Z,VListItemIcon:A.Z,VListItemTitle:T.V9,VNavigationDrawer:R.Z,VSpacer:E.Z,VToolbarTitle:B.qW});var P={name:"App",components:{Footer:g,Header:S},data:()=>({})},L=P,O=o(998),N=(0,d.Z)(L,s,r,!1,null,null,null),j=N.exports;u()(N,{VApp:O.Z});var M=o(1705);a.Z.use(M.Z);var z=new M.Z({}),q=o(3982),G=o.n(q),U=o(8345),H=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{staticClass:"mt-16"},[[o("v-container",{staticClass:"mt-5",attrs:{fluid:""}},[o("v-row",[o("v-col",{attrs:{cols:"6"}},[o("v-card",{staticClass:"elevation-0"},[o("h2",[t._v("Holders")])])],1),o("v-col",{attrs:{cols:"6"}},[o("v-card",{staticClass:"elevation-0 d-flex justify-end"},[o("v-btn",{on:{click:function(e){return t.nuevoHolder()}}},[t._v("Nuevo Holder")])],1)],1)],1)],1),o("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.holders,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var a=e.item;return["1"===a.state?[o("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.editar(a)}}},[t._v(" mdi-account-off")])]:[o("v-icon",{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.editar(a)}}},[t._v("mdi-account-check")])],[o("v-icon",{staticClass:"mr-2",attrs:{color:"orange"},on:{click:function(e){return t.abrir(a)}}},[t._v(" mdi-pencil")])]]}},{key:"item.state",fn:function(e){var a=e.item;return["1"===a.state?o("span",{staticClass:"green--text"},[t._v("Activo")]):o("span",{staticClass:"red--text"},[t._v("Inactivo")])]}}],null,!0)})],o("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-toolbar",{attrs:{dark:"",color:"orange"}},[o("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){return t.cerrarDialog()}}},[o("v-icon",[t._v("mdi-close")])],1),o("v-toolbar-title",[t._v(t._s(t.titulo))])],1),o("v-card",[o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Documento",type:"number"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Ficha",type:"number"},model:{value:t.ficha,callback:function(e){t.ficha=e},expression:"ficha"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Nombre Completo"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Telefono"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Correo"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}})],1),1!=t.bd?o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{label:"Password"},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}})],1):t._e(),o("v-col",{attrs:{cols:"12",sm:"6"}},[o("v-select",{attrs:{items:["ADMIN","PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","BIBLIOTECA","BIBLIOTECARIA","PORTERIA","GUARDA"],label:"Perfil"},model:{value:t.perfil,callback:function(e){t.perfil=e},expression:"perfil"}})],1)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.accionHolder()}}},[t._v(" Guardar ")])],1)],1)],1),o("v-overlay",{attrs:{value:t.overlay}},[o("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],2)},F=[],W=o(9669),Q=o.n(W),Y=o(6455),J=o.n(Y),K={name:"PagePersona",data(){return{dialog:!1,overlay:!1,titulo:"Guardar Holder",id:"",bd:!1,nombre:"",pass:"",documento:"",telefono:"",correo:"",perfil:"",ficha:"",encabezados:[{text:"Documento",align:"start",sortable:!1,value:"document"},{text:"Nombre",value:"name"},{text:"Telefono",value:"phone"},{text:"Correo",value:"email"},{text:"Ficha",value:"ficha",sortable:!1},{text:"Rol",value:"rol",sortable:!1},{text:"Estado",value:"state",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],holders:[]}},methods:{listarHolders(){let t={headers:{"x-token":this.$store.state.token}};Q().get("https://cat-biblioteca.herokuapp.com/api/holder",t).then((t=>{console.log(t),this.holders=t.data.holder})).catch((t=>{console.log(t)}))},nuevoHolder(){this.dialog=!0,this.bd=!1,this.titulo="Guardar Holder"},accionHolder(){!0===this.bd?(console.log("estoy editando.."),this.editarHolder()):(console.log("estoy agregando.."),this.agregarHolder())},limpiarCajas(){this.id="",this.nombre="",this.documento="",this.telefono="",this.correo="",this.pass="",this.perfil="",this.ficha=""},abrir(t){console.log(t),this.titulo="Editar Holder",this.bd=!0,this.dialog=!0,this.id=t._id,console.log(this.id),this.nombre=t.name,this.documento=t.document,this.telefono=t.phone,this.correo=t.email,this.perfil=t.rol,this.ficha=t.ficha},editarHolder(){this.overlay=!0;let t={headers:{"x-token":this.$store.state.token}};console.log(this.documento),Q().put(`https://cat-biblioteca.herokuapp.com/api/holder/${this.id}`,{document:this.documento,name:this.nombre,ficha:this.ficha,phone:this.telefono,rol:this.perfil},t).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.listarHolders(),this.limpiarCajas(),this.dialog=!1,this.overlay=!1})).catch((t=>{console.log(t),J().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},agregarHolder(){this.overlay=!0,Q().post("https://cat-biblioteca.herokuapp.com/api/holder",{document:this.documento,name:this.nombre,email:this.correo,password:this.pass,phone:this.telefono,ficha:this.ficha,rol:this.perfil}).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.overlay=!1,this.listarHolders(),this.limpiarCajas()})).catch((t=>{console.log(t),J().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},cerrarDialog(){this.dialog=!1,this.limpiarCajas()},editar(t){if(console.log(t.state),"1"===t.state){let e={headers:{"x-token":this.$store.state.token}};Q().put(`https://cat-biblioteca.herokuapp.com/api/holder/unactivate/${t._id}`,{},e).then((t=>{console.log(t),this.listarHolders()})).catch((t=>{console.log(t.response)}))}else{let e={headers:{"x-token":this.$store.state.token}};Q().put(`https://cat-biblioteca.herokuapp.com/api/holder/activate/${t._id}`,{},e).then((t=>{console.log(t),this.listarHolders()})).catch((t=>{console.log(t.response)}))}}},mounted(){this.listarHolders()}},X=K,tt=o(9582),et=o(4886),ot=o(2118),at=o(3863),st=o(4061),rt=o(2933),it=o(3305),lt=o(1713),nt=o(9370),ct=o(7808),dt=o(6313),vt=(0,d.Z)(X,H,F,!1,null,null,null),ut=vt.exports;u()(vt,{VApp:O.Z,VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCardText:et.ZB,VCol:m.Z,VContainer:ot.Z,VDataTable:at.Z,VDialog:st.Z,VIcon:w.Z,VOverlay:rt.Z,VProgressCircular:it.Z,VRow:lt.Z,VSelect:nt.Z,VSpacer:E.Z,VTextField:ct.Z,VToolbar:dt.Z,VToolbarTitle:B.qW});var mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?[a("v-container",{staticClass:"mt-5",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"elevation-0"},[a("h2",[t._v("Computadoras")])])],1),a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"elevation-0 d-flex justify-end"},[a("v-btn",{on:{click:function(e){return t.nuevoEquipo()}}},[t._v("Nuevo Equipo")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.laptops,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return["1"===o.state?[a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.habilitar(o)}}},[t._v(" mdi-account-off")])]:[a("v-icon",{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.habilitar(o)}}},[t._v("mdi-account-check")])],a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{dark:"",color:"green"},on:{click:function(e){return t.generarcodigo(o)}}},"v-icon",r,!1),s),[t._v("mdi-barcode")])]}}],null,!0)},[a("span",[t._v("Generar Codigo")])])]}},{key:"item.state",fn:function(e){var o=e.item;return["1"===o.state?a("span",{staticClass:"green--text"},[t._v("Activo")]):a("span",{staticClass:"red--text"},[t._v("Inactivo")])]}},{key:"item.createdAt",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(o.createdAt.substring(0,10))+" "+t._s(o.createdAt.substring(11,19)))])]}}],null,!0)})]:a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Guardar Perfil")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Persona Encargada",type:"text",disabled:""},model:{value:t.$store.state.datos.name,callback:function(e){t.$set(t.$store.state.datos,"name",e)},expression:"$store.state.datos.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Serial",type:"text"},model:{value:t.serial,callback:function(e){t.serial=e},expression:"serial"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Estado",disabled:""},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Observaciones"},model:{value:t.observaciones,callback:function(e){t.observaciones=e},expression:"observaciones"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.registrar_laptop()}}},[t._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("div",{staticClass:"d-flex justify-center white"},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-title",{staticClass:"d-flex justify-center white"},[a("span",{staticClass:"d-flex justify-center",attrs:{color:"green"}},[t._v("Codigo Generado ✅")])]),a("div",{attrs:{id:"s"}}),a("br")],1)],1)]),a("v-overlay",{attrs:{value:t.overlay,absolute:"true"}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],2)},ht=[],pt={name:"PageEquipo",data(){return{overlay:!1,dialog:!1,dialog2:!1,id:"",persona:"",estado:"Activo",serial:"",observaciones:"",encabezados:[{text:"Persona encargada",align:"start",sortable:!1,value:"holder.name"},{text:"Serial",value:"serial"},{text:"Estado",value:"state"},{text:"Creado",value:"createdAt",sortable:!1},{text:"Observaciones",value:"observations",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],laptops:[]}},methods:{login(){this.$router.replace("/")},listarLaptops(){let t={headers:{"x-token":this.$store.state.token}};console.log(this.$route.params.id),this.id=this.$route.params.id;let e="https://cat-biblioteca.herokuapp.com/api/laptop";Q().get(e,t).then((t=>{console.log(t),this.laptops=t.data.laptop})).catch((t=>{console.log(t)})),this.id=""},nuevoEquipo(){this.dialog=!0},cerrarDialog(){this.dialog=!1},generarcodigo(t){let e={headers:{"x-token":this.$store.state.token}};console.log(e),this.dialog2=!0,Q().put(`https://cat-biblioteca.herokuapp.com/api/laptop/barcodehtml/${t._id}`,{},e).then((t=>{console.log(t),this.vector=t.data;let e=document.getElementById("s");e.innerHTML=this.vector})).catch((t=>{console.log(t)}))},registrar_laptop(){this.dialog=!1,this.overlay=!0;let t={headers:{"x-token":this.$store.state.token}};Q().post("https://cat-biblioteca.herokuapp.com/api/laptop",{holder:this.$store.state.datos._id,serial:this.serial,observations:this.observaciones},t).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.listarLaptops(),this.limpiarCajas(),this.overlay=!1})).catch((t=>{console.log(t),J().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},limpiarCajas(){this.serial="",this.estado="",this.observaciones=""},habilitar(t){if(console.log(t.state),"1"===t.state){let e={headers:{"x-token":this.$store.state.token}};Q().put(`https://cat-biblioteca.herokuapp.com/api/laptop/unactivate/${t._id}`,{},e).then((t=>{console.log(t),this.listarLaptops()})).catch((t=>{console.log(t.response)}))}else{let e={headers:{"x-token":this.$store.state.token}};Q().put(`https://cat-biblioteca.herokuapp.com/api/laptop/activate/${t._id}`,{},e).then((t=>{console.log(t),this.listarLaptops()})).catch((t=>{console.log(t.response)}))}}},mounted(){this.listarLaptops()}},gt=pt,ft=o(7359),bt=o(6072),xt=o(2082),Ct=(0,d.Z)(gt,mt,ht,!1,null,null,null),kt=Ct.exports;u()(Ct,{VAlert:ft.Z,VApp:O.Z,VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCardText:et.ZB,VCardTitle:et.EB,VCol:m.Z,VContainer:ot.Z,VDataTable:at.Z,VDialog:st.Z,VIcon:w.Z,VImg:V.Z,VOverlay:rt.Z,VProgressCircular:it.Z,VRow:lt.Z,VSpacer:E.Z,VTextField:ct.Z,VTextarea:bt.Z,VTooltip:xt.Z});var _t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?[a("v-container",{staticClass:"mt-5",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"elevation-0"},[a("h2",[t._v("Registro de entradas y salidas")])])],1),a("v-col",{attrs:{cols:"6"}},["ADMIN"===t.$store.state.datos.rol||"BIBLIOTECA"===t.$store.state.datos.rol||"GUARDA"===t.$store.state.datos.rol?a("v-card",{staticClass:"elevation-0 d-flex justify-end"},[a("v-btn",{on:{click:function(e){return t.nuevoEquipo()}}},[t._v("Nuevo Registro")])],1):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.entradas,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u(["No se ha devuelto el pc"===t.fechaSalida(o.checkout)&&"ADMIN"===t.$store.state.datos.rol||"BIBLIOTECA"===t.$store.state.datos.rol||"BIBLIOTECARIA"===t.$store.state.datos.rol||"PORTERIA"===t.$store.state.datos.rol||"GUARDA"===t.$store.state.datos.rol?{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"orange"},on:{click:function(e){return t.devolver(o)}}},"v-icon",r,!1),s),[t._v(" mdi-keyboard-return")])]}}:null],null,!0)},[a("span",[t._v("Retorno del pc")])])]}},{key:"item.entrytime",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t.fechaEntrada(o.entrytime)))])]}},{key:"item.checkout",fn:function(e){var o=e.item;return["No se ha devuelto el pc"===t.fechaSalida(o.checkout)?a("span",{staticClass:"red--text"},[t._v(t._s(t.fechaSalida(o.checkout)))]):a("span",{staticClass:"green--text"},[t._v(t._s(t.fechaSalida(o.checkout)))])]}}],null,!0)})]:a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Registrar nueva entrada")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Quien registra",type:"text",disabled:""},model:{value:t.$store.state.datos.name,callback:function(e){t.$set(t.$store.state.datos,"name",e)},expression:"$store.state.datos.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Serial del pc",type:"text"},model:{value:t.serial,callback:function(e){t.serial=e},expression:"serial"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Documento del aprendiz",type:"text"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Lugar",type:"text"},model:{value:t.lugar,callback:function(e){t.lugar=e},expression:"lugar"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.registrar_entrada()}}},[t._v(" Guardar ")])],1)],1)],1),a("v-overlay",{attrs:{value:t.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],2)},yt=[],$t={name:"PageRegistro",data(){return{overlay:!1,fecha:"",dialog:!1,serial:"",documento:"",lugar:"",entradas:[],span:!1,id_propietario:"",encabezados:[{text:"Rol",value:"holder.rol"},{text:"Persona encargada",align:"start",sortable:!1,value:"holder.name"},{text:"Serial PC",value:"laptop.serial"},{text:"Propietario",value:"laptop.holder.name"},{text:"Registro Inicial",value:"entrytime",sortable:!1},{text:"Aprendiz",value:"documentlearner.name",sortable:!1},{text:"Registro final",value:"checkout",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}]}},methods:{registrar_entrada(){let t={headers:{"x-token":this.$store.state.token}};Q().post("https://cat-biblioteca.herokuapp.com/api/entry",{holder:this.$store.state.datos._id,laptop:this.serial,documentlearner:this.documento,checkout:"",lugar:""},t).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.limpiarCajas(),this.listarEntradas()})).catch((t=>{console.log(t),J().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},limpiarCajas(){this.serial="",this.documento=""},devolver(t){console.log(t);let e={headers:{"x-token":this.$store.state.token}};Q().put(`https://cat-biblioteca.herokuapp.com/api/entry/${t._id}`,{},e).then((t=>{console.log(t),this.listarEntradas()})).catch((t=>{console.log(t)}))},listarEntradas(){let t={headers:{"x-token":this.$store.state.token}};Q().get("https://cat-biblioteca.herokuapp.com/api/entry",t).then((t=>{console.log(t),this.entradas=t.data.entry,this.fecha=t.data.entry.entrytime})).catch((t=>{console.log(t)}))},login(){this.$router.replace("/")},nuevoEquipo(){this.dialog=!0},cerrarDialog(){this.dialog=!1},fechaEntrada(t){let e=new Date(t);return e.toLocaleDateString()+" - "+e.toLocaleTimeString()},fechaSalida(t){if(void 0===t||""===t)return this.span=!1,"No se ha devuelto el pc";{let e=new Date(t);return this.span=!0,e.toLocaleDateString()+" - "+e.toLocaleTimeString()}}},computed:{},created(){this.listarEntradas()}},wt=$t,Vt=(0,d.Z)(wt,_t,yt,!1,null,null,null),Zt=Vt.exports;u()(Vt,{VAlert:ft.Z,VApp:O.Z,VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCardText:et.ZB,VCardTitle:et.EB,VCol:m.Z,VContainer:ot.Z,VDataTable:at.Z,VDialog:st.Z,VIcon:w.Z,VImg:V.Z,VOverlay:rt.Z,VProgressCircular:it.Z,VRow:lt.Z,VSpacer:E.Z,VTextField:ct.Z,VTooltip:xt.Z});var It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?[a("v-container",{staticClass:"mt-5",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"elevation-0"},[a("h2",[t._v("Mis entradas y salidas")])])],1),a("v-col",{attrs:{cols:"6"}})],1)],1),a("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.entradas,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u(["No se ha devuelto el pc"===t.fechaSalida(o.checkout)&&"ADMIN"===t.$store.state.datos.rol||"BIBLIOTECA"===t.$store.state.datos.rol||"BIBLIOTECARIA"===t.$store.state.datos.rol||"PORTERIA"===t.$store.state.datos.rol||"GUARDA"===t.$store.state.datos.rol?{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"orange"},on:{click:function(e){return t.devolver(o)}}},"v-icon",r,!1),s),[t._v(" mdi-keyboard-return")])]}}:null],null,!0)},[a("span",[t._v("Retorno del pc")])])]}},{key:"item.entrytime",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t.fechaEntrada(o.entrytime)))])]}},{key:"item.checkout",fn:function(e){var o=e.item;return["No se ha devuelto el pc"===t.fechaSalida(o.checkout)?a("span",{staticClass:"red--text"},[t._v(t._s(t.fechaSalida(o.checkout)))]):a("span",{staticClass:"green--text"},[t._v(t._s(t.fechaSalida(o.checkout)))])]}}],null,!0)})]:a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Registrar nueva entrada")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Quien registra",type:"text",disabled:""},model:{value:t.$store.state.datos.name,callback:function(e){t.$set(t.$store.state.datos,"name",e)},expression:"$store.state.datos.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Serial del pc",type:"text"},model:{value:t.serial,callback:function(e){t.serial=e},expression:"serial"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.registrar_entrada()}}},[t._v(" Guardar ")])],1)],1)],1),a("v-overlay",{attrs:{value:t.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],2)},At=[],Tt={name:"PageRegistro",data(){return{overlay:!1,fecha:"",dialog:!1,serial:"",entradas:[],span:!1,id_propietario:"",encabezados:[{text:"Rol",value:"holder.rol"},{text:"Persona encargada",align:"start",sortable:!1,value:"holder.name"},{text:"Serial PC",value:"laptop.serial"},{text:"Propietario",value:"laptop.holder.name"},{text:"Registro Inicial",value:"entrytime",sortable:!1},{text:"Aprendiz",value:"documentlearner.name",sortable:!1},{text:"Registro final",value:"checkout",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}]}},methods:{listarPrestamos(){let t={headers:{"x-token":this.$store.state.token}};Q().get(`https://cat-biblioteca.herokuapp.com/api/entry/historical/learner/${this.$store.state.datos._id}`,t).then((t=>{console.log(t),this.entradas=t.data.entry})).catch((t=>{console.log(t)}))},devolver(t){console.log(t);let e={headers:{"x-token":this.$store.state.token}};Q().put(`https://cat-biblioteca.herokuapp.com/api/entry/${t._id}`,{},e).then((t=>{console.log(t),this.listarEntradas()})).catch((t=>{console.log(t)}))},listarEntradas(){let t={headers:{"x-token":this.$store.state.token}};Q().get(`https://cat-biblioteca.herokuapp.com/api/entry/usuario/${this.$store.state.datos._id}`,t).then((t=>{console.log(t),this.entradas=t.data.entry,this.fecha=t.data.entry.entrytime})).catch((t=>{console.log(t)}))},login(){this.$router.replace("/")},nuevoEquipo(){this.dialog=!0},cerrarDialog(){this.dialog=!1},fechaEntrada(t){let e=new Date(t);return e.toLocaleDateString()+" - "+e.toLocaleTimeString()},fechaSalida(t){if(void 0===t||""===t)return this.span=!1,"No se ha devuelto el pc";{let e=new Date(t);return this.span=!0,e.toLocaleDateString()+" - "+e.toLocaleTimeString()}}},computed:{},created(){this.listarPrestamos()}},Rt=Tt,Et=(0,d.Z)(Rt,It,At,!1,null,null,null),Bt=Et.exports;u()(Et,{VAlert:ft.Z,VApp:O.Z,VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCardText:et.ZB,VCardTitle:et.EB,VCol:m.Z,VContainer:ot.Z,VDataTable:at.Z,VDialog:st.Z,VIcon:w.Z,VImg:V.Z,VOverlay:rt.Z,VProgressCircular:it.Z,VRow:lt.Z,VSpacer:E.Z,VTextField:ct.Z,VTooltip:xt.Z});var Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?[a("v-container",{staticClass:"mt-5",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"elevation-0"},[a("h2",[t._v("Registro de entradas y salidas")])])],1),a("v-col",{attrs:{cols:"6"}},["ADMIN"===t.$store.state.datos.rol||"BIBLIOTECARIA"===t.$store.state.datos.rol||"GUARDA"===t.$store.state.datos.rol?a("v-card",{staticClass:"elevation-0 d-flex justify-end"},[a("v-btn",{on:{click:function(e){return t.nuevoEquipo()}}},[t._v("Nuevo Registro")])],1):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.entradas,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u(["No se ha devuelto el pc"===t.fechaSalida(o.checkout)&&"ADMIN"===t.$store.state.datos.rol||"BIBLIOTECA"===t.$store.state.datos.rol||"BIBLIOTECARIA"===t.$store.state.datos.rol||"PORTERIA"===t.$store.state.datos.rol||"GUARDA"===t.$store.state.datos.rol?{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"orange"},on:{click:function(e){return t.devolver(o)}}},"v-icon",r,!1),s),[t._v(" mdi-keyboard-return")])]}}:null],null,!0)},[a("span",[t._v("Retorno del pc")])])]}},{key:"item.entrytime",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t.fechaEntrada(o.entrytime)))])]}},{key:"item.checkout",fn:function(e){var o=e.item;return["No se ha devuelto el pc"===t.fechaSalida(o.checkout)?a("span",{staticClass:"red--text"},[t._v(t._s(t.fechaSalida(o.checkout)))]):a("span",{staticClass:"green--text"},[t._v(t._s(t.fechaSalida(o.checkout)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("div",[a("span",[t._v("No hay datos por mostrar")])])])],2)]:a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Registrar nueva entrada")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Quien registra",type:"text",disabled:""},model:{value:t.$store.state.datos.name,callback:function(e){t.$set(t.$store.state.datos,"name",e)},expression:"$store.state.datos.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Documento del aprendiz",type:"text"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Serial del pc",type:"text"},model:{value:t.serial,callback:function(e){t.serial=e},expression:"serial"}})],1),"BIBLIOTECARIA"===t.$store.state.datos.rol?a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{label:"Seleccione serial...",items:t.seriales,type:"text"},model:{value:t.serial,callback:function(e){t.serial=e},expression:"serial"}})],1):t._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.registrar_entrada()}}},[t._v(" Guardar ")])],1)],1)],1),a("v-overlay",{attrs:{value:t.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],2)},St=[],Pt={name:"PageRegistro",data(){return{overlay:!1,fecha:"",dialog:!1,serial:"",seriales:[],documento:"",lugar:"",entradas:[],span:!1,id_propietario:"",encabezados:[{text:"Rol",value:"holder.rol"},{text:"Persona encargada",align:"start",sortable:!1,value:"holder.name"},{text:"Serial PC",value:"laptop.serial"},{text:"Propietario",value:"laptop.holder.name"},{text:"Registro Inicial",value:"entrytime",sortable:!1},{text:"BIBLIOTECARIA"===this.$store.state.datos.rol?"Aprendiz":"",value:"documentlearner.name",sortable:!1},{text:"Registro final",value:"checkout",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}]}},methods:{listarPrestamos(){let t={headers:{"x-token":this.$store.state.token}};Q().get(`https://cat-biblioteca.herokuapp.com/api/entry/historical/holder/${this.$store.state.datos._id}`,t).then((t=>{console.log(t),this.entradas=t.data.entry})).catch((t=>{console.log(t)}))},limpiarCajas(){this.serial="",this.documento=""},listarSeriales(){let t={headers:{"x-token":this.$store.state.token}};Q().get(`https://cat-biblioteca.herokuapp.com/api/laptop/holder/${this.$store.state.lugar}`,t).then((t=>{console.log(t),t.data.laptop.forEach((t=>{this.seriales.push(t.serial)}))})).catch((t=>{console.log(t)}))},registrar_entrada(){console.log(this.$store.state.lugar);let t={headers:{"x-token":this.$store.state.token}};Q().post("https://cat-biblioteca.herokuapp.com/api/entry",{holder:this.$store.state.datos._id,laptop:this.serial,documentlearner:this.documento,checkout:"",place:this.$store.state.lugar},t).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.limpiarCajas(),this.listarPrestamos()})).catch((t=>{console.log(t),J().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},devolver(t){console.log(t);let e={headers:{"x-token":this.$store.state.token}};Q().put(`https://cat-biblioteca.herokuapp.com/api/entry/${t._id}`,{},e).then((t=>{console.log(t),this.listarPrestamos()})).catch((t=>{console.log(t)}))},login(){this.$router.replace("/")},nuevoEquipo(){this.dialog=!0},cerrarDialog(){this.dialog=!1},fechaEntrada(t){let e=new Date(t);return e.toLocaleDateString()+" - "+e.toLocaleTimeString()},fechaSalida(t){if(void 0===t||""===t)return this.span=!1,"No se ha devuelto el pc";{let e=new Date(t);return this.span=!0,e.toLocaleDateString()+" - "+e.toLocaleTimeString()}}},computed:{},created(){this.listarPrestamos(),this.listarSeriales()}},Lt=Pt,Ot=(0,d.Z)(Lt,Dt,St,!1,null,null,null),Nt=Ot.exports;u()(Ot,{VAlert:ft.Z,VApp:O.Z,VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCardText:et.ZB,VCardTitle:et.EB,VCol:m.Z,VContainer:ot.Z,VDataTable:at.Z,VDialog:st.Z,VIcon:w.Z,VImg:V.Z,VOverlay:rt.Z,VProgressCircular:it.Z,VRow:lt.Z,VSelect:nt.Z,VSpacer:E.Z,VTextField:ct.Z,VTooltip:xt.Z});var jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"mt-10"},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"10"}},[o("v-card",{staticClass:"elevation-6 mt-10"},[o("v-window",{model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[o("v-window-item",{attrs:{value:1}},[o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-card-text",{staticClass:"mt-12"},[o("h4",{staticClass:"text-center"},[t._v("Inicie su sesión con su usuario")]),o("h6",{staticClass:"text-center grey--text"},[t._v(" Inicie sesión con sus credenciales "),o("br"),t._v(" Indicando su correo y respectiva contraseña ")]),o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",sm:"8"}},[o("v-text-field",{staticClass:"mt-12",attrs:{label:"Email",outlined:"",dense:"",color:"black"},model:{value:t.correo,callback:function(e){t.correo=e},expression:"correo"}}),o("v-text-field",{attrs:{label:"Password",outlined:"",dense:"",color:"black",type:"password"},model:{value:t.pass,callback:function(e){t.pass=e},expression:"pass"}}),o("v-row",[o("v-col",{staticClass:"mb-6",attrs:{cols:"12",sm:"12"}},[o("span",{staticClass:"Subtitle 1 blue--text",on:{click:function(e){return t.recuperarClave()}}},[t._v("Olvido la contraseña?")])])],1),o("v-btn",{staticClass:"black--text",attrs:{color:"orange",dark:"",block:"",tile:""},on:{click:function(e){return t.login()}}},[t._v("Iniciar Sesion ")])],1)],1)],1)],1),o("v-col",{staticClass:"orange rounded-bl-xl",attrs:{cols:"12",md:"6"}},[o("div",{staticStyle:{"text-align":"center",padding:"180px 0"}},[o("v-card-text",{staticClass:"black--text"},[o("h3",{staticClass:"text-center"},[t._v("No tienes aun usuario?")]),o("h6",{staticClass:"text-center"},[t._v(" Registrese para que pueda prestar equipos de computo de la Biblioteca SENA - San Gil ")])]),o("div",{staticClass:"text-center"},[o("v-btn",{staticClass:"black--text",attrs:{tile:"",outlined:"",dark:""},on:{click:function(e){t.step++}}},[t._v("Registrese")])],1)],1)])],1)],1),o("v-window-item",{attrs:{value:2}},[o("v-row",[o("v-col",{staticClass:"orange rounded-br-xl",attrs:{cols:"12",md:"4"}},[o("div",{staticStyle:{"text-align":"center",padding:"180px 0"}},[o("v-card-text",{staticClass:"black--text"},[o("h3",{staticClass:"text-center"},[t._v("Ya esta registrado?")]),o("h6",{staticClass:"text-center"},[t._v(" Inicie sesión para que registre su prestamo y edite su perfil ")])]),o("div",{staticClass:"text-center"},[o("v-btn",{staticClass:"black--text",attrs:{tile:"",outlined:"",dark:""},on:{click:function(e){t.step--}}},[t._v("Iniciar Sesión")])],1)],1)]),o("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"4"}},[o("v-card-text",{staticClass:"mt-4"},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{attrs:{cols:"12",align:"center",justify:"center"}},[o("h2",{staticClass:"mb-11",attrs:{justify:"center"}},[t._v(" Registre su cuenta ")]),o("v-text-field",{attrs:{label:"Nombre Completo",outlined:"",dense:"",color:"black",autocomplete:"false"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),o("v-text-field",{attrs:{label:"Documento",outlined:"",dense:"",color:"black",autocomplete:"false"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}}),o("v-text-field",{attrs:{label:"Email",outlined:"",dense:"",color:"black",autocomplete:"false"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),o("v-text-field",{attrs:{label:"Password",outlined:"",dense:"",color:"black",autocomplete:"false",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1)],1)],1),o("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"4"}},[o("v-card-text",{staticClass:"mt-4"},[o("v-row",{attrs:{align:"center",justify:"center"}},[o("v-col",{staticClass:"cols-12",attrs:{align:"center"}},[o("v-text-field",{attrs:{label:"Ficha",outlined:"",dense:"",color:"blue",autocomplete:"false"},model:{value:t.ficha,callback:function(e){t.ficha=e},expression:"ficha"}}),o("v-text-field",{attrs:{label:"Telefono",type:"Number",outlined:"",dense:"",color:"blue",autocomplete:"false"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}}),o("v-text-field",{attrs:{disabled:"",type:"text",outlined:"",dense:"",color:"blue",autocomplete:"false"},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}}),o("v-select",{attrs:{items:t.roles,label:"Perfil",outlined:"",dense:""},model:{value:t.perfil,callback:function(e){t.perfil=e},expression:"perfil"}}),o("v-btn",{staticClass:"orange black--text",attrs:{block:""},on:{click:function(e){return t.registrar_usuario()}}},[t._v("Registrar")])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1),o("v-dialog",{attrs:{"max-width":"400px",persistent:""},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[o("v-card",[o("v-card-title",[t._v(" Selecione su lugar de trabajo ")]),o("v-card-text",[o("v-select",{attrs:{items:t.lugares,label:"Lugar de trabajo...","item-value":"value"},model:{value:t.lugar,callback:function(e){t.lugar=e},expression:"lugar"}})],1),o("v-card-actions",[o("v-btn",{attrs:{outlined:"",color:"orange"},on:{click:function(e){return t.ingresarHome()}}},[t._v(" Ingresar ")]),o("v-spacer"),o("v-btn",{attrs:{color:"red",outlined:""},on:{click:function(e){return t.cerrar()}}},[t._v(" Cerrar ")])],1)],1)],1),o("v-dialog",{attrs:{"max-width":"400px"},model:{value:t.dialog3,callback:function(e){t.dialog3=e},expression:"dialog3"}},[o("v-card",[o("v-card-title",{staticClass:"black white--text"},[o("span",[t._v("Introduce tu correo electrónico ")]),o("span",[t._v(" para recuperar cuenta")])]),o("v-card-text",[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{attrs:{type:"email",label:"Correo"},model:{value:t.recuperar,callback:function(e){t.recuperar=e},expression:"recuperar"}})],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"orange",on:{click:function(e){return t.cambioClave()}}},[t._v("Enviar")])],1)],1)],1),o("v-overlay",{attrs:{value:t.overlay}},[o("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},Mt=[],zt={name:"PageLogin",data(){return{step:1,lugares:[],lugar:"",l:"",dialog2:!1,dialog3:!1,overlay:!1,recuperar:"",nombre:"",password:"",documento:"",telefono:"",email:"",perfil:"",ficha:"",estado:"Activo",roles:["APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","PUBLICO"],imagen:"https://us.123rf.com/450wm/apoev/apoev1903/apoev190300009/124806570-persona-hombre-de-marcador-de-posici%C3%B3n-de-foto-gris-en-camiseta-sobre-fondo-gris.jpg",valor:"",correo:"",pass:"",show1:!1,errores:""}},methods:{login(){this.overlay=!0,Q().post("https://cat-biblioteca.herokuapp.com/api/holder/login",{email:this.correo,password:this.pass}).then((t=>{console.log(t.data.token),console.log(t.data.holder.rol),this.$store.dispatch("setToken",t.data.token),this.$store.dispatch("setDatos",t.data.holder),this.$store.dispatch("setFoto",t.data.holder.photo),console.log(this.$store.state.datos),this.overlay=!1;let e={headers:{"x-token":this.$store.state.token}};"BIBLIOTECARIA"===t.data.holder.rol?(Q().get("https://cat-biblioteca.herokuapp.com/api/holder/rol/BIBLIOTECA",e).then((t=>{console.log(t.data.holder),t.data.holder.forEach((t=>{console.log(t),this.lugares.push({text:t.name,value:t._id})}))})).catch((t=>{console.log(t)})),this.dialog2=!0):"GUARDA"===t.data.holder.rol?(Q().get("https://cat-biblioteca.herokuapp.com/api/holder/rol/PORTERIA",e).then((t=>{console.log(t.data.holder),t.data.holder.forEach((t=>{this.lugares.push({text:t.name,value:t._id})}))})).catch((t=>{console.log(t)})),this.dialog2=!0):this.$router.push("/inicio")})).catch((t=>{console.log(t),""===this.correo||""===this.pass?(J().fire({title:"<strong>Error en credenciales</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1):(J().fire({title:"<strong>Error en credenciales</strong>",icon:"error",html:`<h4>${t.response.data.msg}</h4>`,showCloseButton:!0}),this.overlay=!1)}))},recuperarClave(){this.dialog3=!0},cambioClave(){this.dialog3=!0,Q().post("https://cat-biblioteca.herokuapp.com/api/holder/requestpasswordreset",{email:this.recuperar}).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Correo de recuperacion enviado",showConfirmButton:!1,timer:2e3}),this.recuperar=""})).catch((t=>{console.log(t),J().fire({title:"<strong>Error en credenciales</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},ingresarHome(){this.login(),""===this.lugar?(J().fire({title:"<strong>Por favor</strong>",icon:"error",html:"<h4>Seleccione un lugar de trabajo</h4>",showCloseButton:!0}),this.$store.commit("setToken",""),this.$store.commit("setDatos",{}),this.$store.commit("setFoto",""),this.$store.commit("setLugar",""),this.imagen=""):(console.log(this.lugar),this.$store.dispatch("setLugar",this.lugar),this.$router.push("/inicio"))},cerrar(){this.$store.commit("setToken",""),this.$store.commit("setDatos",{}),this.$store.commit("setFoto",""),this.$store.commit("setLugar",""),this.imagen="",this.dialog2=!1},registrar_usuario(){this.overlay=!0,console.log(this.password),Q().post("https://cat-biblioteca.herokuapp.com/api/holder",{document:this.documento,name:this.nombre,email:this.email,password:this.password,phone:this.telefono,ficha:this.ficha,rol:this.perfil}).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.limpiarcajas(),this.overlay=!1})).catch((t=>{console.log(t),J().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},limpiarcajas(){this.nombre="",this.password="",this.documento="",this.telefono="",this.email="",this.perfil="",this.ficha=""}}},qt=zt,Gt=o(7280),Ut=o(352),Ht=(0,d.Z)(qt,jt,Mt,!1,null,"79bb131c",null),Ft=Ht.exports;u()(Ht,{VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCardText:et.ZB,VCardTitle:et.EB,VCol:m.Z,VContainer:ot.Z,VDialog:st.Z,VOverlay:rt.Z,VProgressCircular:it.Z,VRow:lt.Z,VSelect:nt.Z,VSpacer:E.Z,VTextField:ct.Z,VWindow:Gt.Z,VWindowItem:Ut.Z});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-10 mt-16"},[""!==t.$store.state.token?a("div",[a("v-container",{staticClass:"orange cont d-flex justify-center",staticStyle:{height:"200px"}},[a("v-avatar",{staticClass:"ava",attrs:{color:"white",size:"150"}},[a("v-img",{attrs:{src:t.imagen},on:{click:function(e){return t.aumentar()}}})],1)],1),a("v-container",{staticClass:"d-flex justify-center"},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"2"}}),a("v-col",{staticClass:"d-flex justify-center",attrs:{cols:"12",sm:"8"}},[a("v-card",{staticClass:"mt-5 tar black white--text",attrs:{width:"500px",rounded:"xl"}},[a("v-card-title"),a("v-card-title",{staticClass:"d-flex justify-center mt-4"},[t._v(" "+t._s(t.nombre)+" ")]),a("v-list",{staticClass:"d-flex justify-center"},[a("v-list-item-group",[a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v("mdi-school")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Soy "+t._s(t.perfil)+" de la ficha "+t._s(t.ficha))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-account ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Documento: "+t._s(t.documento))])],1)],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-email ")])],1),a("v-list-item-title",[t._v("Correo: "+t._s(t.correo))]),a("v-list-item-content")],1),a("v-list-item",[a("v-list-item-icon",[a("v-icon",[t._v(" mdi-phone ")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v("Telefono: "+t._s(t.telefono))])],1)],1)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"ml-3",attrs:{color:"orange ",text:""},on:{click:function(e){return t.abrir()}}},[a("v-icon",[t._v("mdi-pencil")]),t._v(" Actualizar Perfil ")],1),a("v-spacer"),a("v-btn",{staticClass:"ml-3",attrs:{color:"orange ",text:""},on:{click:function(e){return t.registrar_equipo()}}},[a("v-icon",[t._v("mdi-laptop")]),a("h4",[t._v("Registrar equipo")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}})],1)],1),a("v-dialog",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("div",{staticClass:"white",attrs:{align:"center",justify:"center"}},[a("v-toolbar",{attrs:{dark:"",color:"orange"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1),a("v-toolbar-title",[t._v("Registre sus datos")])],1),a("v-container",[a("v-row",[a("v-col",{staticClass:"mt-4",attrs:{cols:"12",md:"6"}},[a("v-card-text",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",align:"center",justify:"center"}},[a("v-text-field",{attrs:{label:"Nombre Completo",outlined:"",dense:"",color:"orange",autocomplete:"false"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),a("v-text-field",{attrs:{label:"Documento",outlined:"",dense:"",color:"orange",autocomplete:"false"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}}),a("v-text-field",{attrs:{label:"Ficha",outlined:"",dense:"",color:"orange",autocomplete:"false"},model:{value:t.ficha,callback:function(e){t.ficha=e},expression:"ficha"}}),a("v-text-field",{attrs:{label:"Telefono",type:"Number",outlined:"",dense:"",color:"orange",autocomplete:"false"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}}),a("v-select",{attrs:{items:"ADMIN"===t.$store.state.datos.rol?t.rolesAdmin:"BIBLIOTECA"===t.$store.state.datos.rol||"BIBLIOTECARIA"===t.$store.state.datos.rol?t.rolesBiblioteca:"PORTERIA"===t.$store.state.datos.rol||"GUARDA"===t.$store.state.datos.rol?t.rolesPorteria:t.roles,label:"Perfil",outlined:"",dense:""},model:{value:t.perfil,callback:function(e){t.perfil=e},expression:"perfil"}})],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card-text",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"cols-12",attrs:{align:"center"}},[a("v-img",{staticClass:"mb-8",staticStyle:{border:"5px solid"},attrs:{src:t.imagen,height:"250",width:"250"}},[""===t.imagen?a("h2",[t._v("No imagen")]):t._e()]),a("input",{attrs:{type:"file"},on:{change:t.subir}})],1)],1)],1)],1),a("v-btn",{staticClass:"orange black--text mb-6",attrs:{block:""},on:{click:function(e){return t.actualizar()}}},[t._v("Actualizar Datos")])],1)],1)],1)]),a("v-dialog",{attrs:{height:"400",width:"300"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-img",{attrs:{src:t.imagen,height:"300px"}}),a("v-card-title",[t._v(" "+t._s(t.nombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"orange",attrs:{dense:"",elevation:"2"},on:{click:function(e){return t.salir()}}},[t._v(" Salir ")])],1)],1)],1)],1):a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1),a("v-overlay",{attrs:{value:t.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},Qt=[],Yt={name:"PagePerfil",data(){return{rolesAdmin:["ADMIN","PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","BIBLIOTECARIA","BIBLIOTECA","GUARDA","PORTERIA"],rolesBiblioteca:["PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","BIBLIOTECARIA","BIBLIOTECA"],rolesPorteria:["PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO","GUARDA","PORTERIA"],roles:["PUBLICO","APRENDIZ","INSTRUCTOR","ADMINISTRATIVO"],dialog:!1,dialog2:!1,img:"",overlay:!1,nombre:this.$store.state.datos.name,perfil:this.$store.state.datos.rol,documento:this.$store.state.datos.document,ficha:this.$store.state.datos.ficha,correo:this.$store.state.datos.email,telefono:this.$store.state.datos.phone,imagen:this.$store.state.datos.photo}},methods:{login(){this.$router.replace("/")},abrir(){this.dialog=!0},aumentar(){this.dialog2=!0},salir(){this.dialog2=!1},subir(t){this.img=t.target.files[0],console.log(this.img);let e=new FormData;e.append("archivo",this.img);let o={headers:{"x-token":this.$store.state.token}};console.log(e),Q().post(`https://cat-biblioteca.herokuapp.com/api/holder/uploadcloud/${this.$store.state.datos._id}`,e,o).then((t=>{console.log(t.data.url),this.imagen=t.data.url,this.$store.dispatch("setFoto",t.data.url)})).catch((t=>{console.log(t)}))},registrar_equipo(){console.log(this.$store.state.datos._id),this.$router.replace("/miequipo")},actualizar(){this.overlay=!0;let t={headers:{"x-token":this.$store.state.token}};console.log(this.$store.state.datos._id),Q().put(`https://cat-biblioteca.herokuapp.com/api/holder/${this.$store.state.datos._id}`,{document:this.documento,name:this.nombre,ficha:this.ficha,phone:this.telefono,rol:this.perfil},t).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Actualización exitosa",showConfirmButton:!1,timer:2e3}),this.dialog=!1,this.overlay=!1})).catch((t=>{console.log(t),J().fire({title:"<strong>Actualización rechazada</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))}},mount(){this.llenar_perfil()}},Jt=Yt,Kt=o(7912),Xt=(0,d.Z)(Jt,Wt,Qt,!1,null,null,null),te=Xt.exports;u()(Xt,{VAlert:ft.Z,VAvatar:y.Z,VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCardText:et.ZB,VCardTitle:et.EB,VCol:m.Z,VContainer:ot.Z,VDialog:st.Z,VIcon:w.Z,VImg:V.Z,VList:Z.Z,VListItem:I.Z,VListItemContent:T.km,VListItemGroup:Kt.Z,VListItemIcon:A.Z,VListItemTitle:T.V9,VOverlay:rt.Z,VProgressCircular:it.Z,VRow:lt.Z,VSelect:nt.Z,VSpacer:E.Z,VTextField:ct.Z,VToolbar:dt.Z,VToolbarTitle:B.qW});var ee=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?o("v-container",{staticClass:"mt-7"},[o("v-row",["ADMIN"==t.$store.state.datos.rol?o("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[o("v-card",{staticClass:"mx-auto card1",attrs:{"max-width":"344",elevation:"24"}},[o("v-list-item",{attrs:{"three-line":""}},[o("v-list-item-content",[o("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" Holders ")]),o("v-list-item-subtitle",[t._v("Listar todos los usuarios registrados")])],1),o("v-list-item-avatar",{attrs:{size:"60",color:"black"}},[o("v-icon",{attrs:{"x-large":"",color:"orange"}},[t._v("mdi-account")])],1)],1),o("v-card-actions",[o("v-btn",{attrs:{outlined:"",rounded:"",color:"orange",to:"/persona"}},[t._v("Todos los usuarios")])],1)],1)],1):t._e(),"GUARDA"==t.$store.state.datos.rol||"BIBLIOTECARIA"==t.$store.state.datos.rol?o("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[o("v-card",{staticClass:"mx-auto card1",attrs:{"max-width":"344",elevation:"24"}},[o("v-list-item",{attrs:{"three-line":""}},[o("v-list-item-content",[o("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" Equipos Pendientes ")]),o("v-list-item-subtitle",[t._v("Listar todos los usuarios registrados")])],1),o("v-list-item-avatar",{attrs:{size:"60",color:"black"}},[o("v-icon",{attrs:{"x-large":"",color:"orange"}},[t._v("mdi-account")])],1)],1),o("v-card-actions",[o("v-btn",{attrs:{outlined:"",rounded:"",color:"orange",to:"/pendientes"}},[t._v("Todos los usuarios")])],1)],1)],1):t._e(),"GUARDA"==t.$store.state.datos.rol||"BIBLIOTECARIA"==t.$store.state.datos.rol||"ADMIN"==t.$store.state.datos.rol?o("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[o("v-card",{staticClass:"mx-auto card1",attrs:{"max-width":"344",elevation:"24"}},[o("v-list-item",{attrs:{"three-line":""}},[o("v-list-item-content",[o("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" Agregar Movimiento ")]),o("v-list-item-subtitle",[t._v("Agregar y listar los movimientos hechos por este usuario")])],1),o("v-list-item-avatar",{attrs:{size:"60",color:"black"}},[o("v-icon",{attrs:{"x-large":"",color:"orange"}},[t._v("mdi-account")])],1)],1),o("v-card-actions",[o("v-btn",{attrs:{outlined:"",rounded:"",color:"orange",to:"/usuarioregistro"}},[t._v("Todos los movimientos")])],1)],1)],1):t._e(),"ADMIN"==t.$store.state.datos.rol?o("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[o("v-card",{staticClass:"mx-auto card2",attrs:{"max-width":"344",elevation:"24"}},[o("v-list-item",{attrs:{"three-line":""}},[o("v-list-item-content",[o("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" Computadoras ")]),o("v-list-item-subtitle",[t._v("Listar todas las computadoras registradas")])],1),o("v-list-item-avatar",{attrs:{size:"60",color:"black"}},[o("v-icon",{attrs:{"x-large":"",color:"orange"}},[t._v("mdi-laptop")])],1)],1),o("v-card-actions",[o("v-btn",{attrs:{outlined:"",rounded:"",color:"orange",to:"/equipo"}},[t._v("Todas las computadoras")])],1)],1)],1):t._e(),"ADMIN"==t.$store.state.datos.rol?o("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[o("v-card",{staticClass:"mx-auto card3",attrs:{"max-width":"344",elevation:"24"}},[o("v-list-item",{attrs:{"three-line":""}},[o("v-list-item-content",[o("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" Registros ")]),o("v-list-item-subtitle",[t._v("Listado general de registros")])],1),o("v-list-item-avatar",{attrs:{size:"60",color:"black"}},[o("v-icon",{attrs:{"x-large":"",color:"orange"}},[t._v("mdi-book-open-page-variant")])],1)],1),o("v-card-actions",[o("v-btn",{attrs:{outlined:"",rounded:"",color:"orange",to:"/registro"}},[t._v("Todos los registros")])],1)],1)],1):t._e(),"APRENDIZ"==t.$store.state.datos.rol?o("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[o("v-card",{staticClass:"mx-auto card3",attrs:{"max-width":"344",elevation:"24"}},[o("v-list-item",{attrs:{"three-line":""}},[o("v-list-item-content",[o("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" Mis Prestamos ")]),o("v-list-item-subtitle",[t._v("Historico de mis movimientos en porteria y biblioteca")])],1),o("v-list-item-avatar",{attrs:{size:"60",color:"black"}},[o("v-icon",{attrs:{"x-large":"",color:"orange"}},[t._v("mdi-book-open-page-variant")])],1)],1),o("v-card-actions",[o("v-btn",{attrs:{outlined:"",color:"orange",rounded:"",to:"/misregistros"}},[t._v("Mis Movimientos ")])],1)],1)],1):t._e(),o("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[o("v-card",{staticClass:"mx-auto card3",attrs:{"max-width":"344",elevation:"24"}},[o("v-list-item",{attrs:{"three-line":""}},[o("v-list-item-content",[o("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" Mis Equipos ")]),o("v-list-item-subtitle",[t._v("Registra y listado de su equipos")])],1),o("v-list-item-avatar",{attrs:{size:"60",color:"black"}},[o("v-icon",{attrs:{"x-large":"",color:"orange"}},[t._v("mdi-monitor")])],1)],1),o("v-card-actions",[o("v-btn",{attrs:{outlined:"",rounded:"",color:"orange",to:"/miequipo"}},[t._v(" Mi PC ")])],1)],1)],1),o("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[o("v-card",{staticClass:"mx-auto card3",attrs:{"max-width":"344",elevation:"24"}},[o("v-list-item",{attrs:{"three-line":""}},[o("v-list-item-content",[o("v-list-item-title",{staticClass:"text-h5 mb-1"},[t._v(" Mi Perfil ")]),o("v-list-item-subtitle",[t._v("Revisa y edita sus datos personales")])],1),o("v-list-item-avatar",{attrs:{size:"60",color:"black"}},[o("v-icon",{attrs:{"x-large":"",color:"orange"}},[t._v("mdi-account-circle")])],1)],1),o("v-card-actions",[o("v-btn",{attrs:{outlined:"",rounded:"",color:"orange",to:"/perfil"}},[t._v(" Mis datos ")])],1)],1)],1)],1)],1):t._e()],1)},oe=[],ae={name:"PageInicio",data(){return{rol:this.$store.state.datos.rol}},methods:{login(){this.$router.replace("/")},datos(t){console.log(t)},lugar(){console.log(this.$store.state.lugar)}},mounted(){this.lugar()},computed:{lista(){let t=[];return t=[{icon:"mdi-account-check",title:"Holders Activos",count:"HA",to:"/persona",rol:"ADMIN"===this.rol},{icon:"mdi-monitor",title:"Computadoras activas",count:"CA",to:"/equipo",rol:"ADMIN"===this.rol},{icon:"mdi-book-open-page-variant",title:"Registros",count:"R",to:"/registro",rol:"ADMIN"===this.rol},{icon:"mdi-laptop",title:"Mis computadoras",count:"MC",to:"/miequipo",rol:"APRENDIZ"===this.rol||"ADMIN"===this.rol||"PUBLICO"===this.rol||"INSTRUCTOR"===this.rol||"ADMINISTRATIVO"===this.rol||"GUARDA"===this.rol},{icon:"mdi-account-circle",title:"Mi perfil",count:"MP",to:"/perfil",rol:"APRENDIZ"===this.rol||"ADMIN"===this.rol||"PUBLICO"===this.rol||"INSTRUCTOR"===this.rol||"ADMINISTRATIVO"===this.rol||"GUARDA"===this.rol||"BIBLIOTECA"===this.rol}],t}}},se=ae,re=o(6900),ie=(0,d.Z)(se,ee,oe,!1,null,null,null),le=ie.exports;u()(ie,{VApp:O.Z,VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCol:m.Z,VContainer:ot.Z,VIcon:w.Z,VListItem:I.Z,VListItemAvatar:re.Z,VListItemContent:T.km,VListItemSubtitle:T.oZ,VListItemTitle:T.V9,VRow:lt.Z});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?[a("v-container",{staticClass:"mt-5 ",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:" elevation-0"},[a("h2",[t._v("Computadoras")])])],1),a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:" elevation-0 d-flex justify-end"},[a("v-btn",{on:{click:function(e){return t.nuevoEquipo()}}},[t._v("Nuevo Equipo")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.laptops,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return["1"===o.state?[a("v-icon",{staticClass:"mr-2",attrs:{color:"red"},on:{click:function(e){return t.habilitar(o)}}},[t._v(" mdi-account-off")])]:[a("v-icon",{staticClass:"mr-2",attrs:{color:"green"},on:{click:function(e){return t.habilitar(o)}}},[t._v("mdi-account-check")])],a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{dark:"",color:"green"},on:{click:function(e){return t.generarcodigo(o)}}},"v-icon",r,!1),s),[t._v("mdi-barcode")])]}}],null,!0)},[a("span",[t._v("Generar Codigo")])]),a("v-tooltip",{attrs:{left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{dark:"",color:"green"},on:{click:function(e){return t.editar(o)}}},"v-icon",r,!1),s),[t._v(" mdi-pencil")])]}}],null,!0)},[a("span",[t._v("Editar Laptop")])])]}},{key:"item.state",fn:function(e){var o=e.item;return["1"===o.state?a("span",{staticClass:"green--text"},[t._v("Activo")]):a("span",{staticClass:"red--text"},[t._v("Inactivo")])]}},{key:"item.createdAt",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(o.createdAt.substring(0,10))+" "+t._s(o.createdAt.substring(11,19)))])]}}],null,!0)})]:t._e(),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Guardar Perfil")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Persona Encargada",type:"text",disabled:""},model:{value:t.$store.state.datos.name,callback:function(e){t.$set(t.$store.state.datos,"name",e)},expression:"$store.state.datos.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Serial",type:"text"},model:{value:t.serial,callback:function(e){t.serial=e},expression:"serial"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Estado",disabled:""},model:{value:t.estado,callback:function(e){t.estado=e},expression:"estado"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:"Observaciones (Marca, color y demas)"},model:{value:t.observaciones,callback:function(e){t.observaciones=e},expression:"observaciones"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.registrar_laptop()}}},[t._v(" Guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("div",{staticClass:"d-flex justify-center white"},[a("v-card",{attrs:{elevation:"0"}},[a("v-card-title",{staticClass:"d-flex justify-center white"},[a("span",{staticClass:"d-flex justify-center",attrs:{color:"green"}},[t._v("Codigo Generado ✅")])]),a("div",{attrs:{id:"s"}}),a("br")],1)],1)]),""===t.$store.state.token?a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1):t._e(),a("v-overlay",{attrs:{value:t.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],2)},ce=[],de={name:"PageEquipo",data(){return{overlay:!1,dialog:!1,dialog2:!1,persona:"",estado:"Activo",serial:"",observaciones:"",encabezados:[{text:"Persona encargada",align:"start",sortable:!1,value:"holder.name"},{text:"Serial",value:"serial"},{text:"Estado",value:"state"},{text:"Creado",value:"createdAt",sortable:!1},{text:"Observaciones",value:"observations",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}],laptops:[]}},methods:{login(){this.$router.replace("/")},listarLaptops(){let t={headers:{"x-token":this.$store.state.token}};Q().get(`https://cat-biblioteca.herokuapp.com/api/laptop/holder/${this.$store.state.datos._id}`,t).then((t=>{console.log(t),this.laptops=t.data.laptop})).catch((t=>{console.log(t)}))},nuevoEquipo(){this.dialog=!0},cerrarDialog(){this.dialog=!1},registrar_laptop(){this.overlay=!0;let t={headers:{"x-token":this.$store.state.token}};Q().post("https://cat-biblioteca.herokuapp.com/api/laptop",{holder:this.$store.state.datos._id,serial:this.serial,observations:this.observaciones},t).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.dialog=!1,this.limpiarCajas(),this.listarLaptops(),this.overlay=!1})).catch((t=>{console.log(t),J().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0}),this.overlay=!1}))},editar(t){console.log(t)},generarcodigo(t){let e={headers:{"x-token":this.$store.state.token}};console.log(e),this.dialog2=!0,Q().put(`https://cat-biblioteca.herokuapp.com/api/laptop/barcodehtml/${t._id}`,{},e).then((t=>{console.log(t),this.vector=t.data;let e=document.getElementById("s");e.innerHTML=this.vector})).catch((t=>{console.log(t)}))},habilitar(t){if(console.log(t.state),"1"===t.state){let e={headers:{"x-token":this.$store.state.token}};Q().put(`https://cat-biblioteca.herokuapp.com/api/laptop/unactivate/${t._id}`,{},e).then((t=>{console.log(t),this.listarLaptops()})).catch((t=>{console.log(t.response)}))}else{let e={headers:{"x-token":this.$store.state.token}};Q().put(`https://cat-biblioteca.herokuapp.com/api/laptop/activate/${t._id}`,{},e).then((t=>{console.log(t),this.listarLaptops()})).catch((t=>{console.log(t.response)}))}},limpiarCajas(){this.serial="",this.observaciones=""}},mounted(){this.listarLaptops()}},ve=de,ue=(0,d.Z)(ve,ne,ce,!1,null,null,null),me=ue.exports;u()(ue,{VAlert:ft.Z,VApp:O.Z,VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCardText:et.ZB,VCardTitle:et.EB,VCol:m.Z,VContainer:ot.Z,VDataTable:at.Z,VDialog:st.Z,VIcon:w.Z,VImg:V.Z,VOverlay:rt.Z,VProgressCircular:it.Z,VRow:lt.Z,VSpacer:E.Z,VTextField:ct.Z,VTextarea:bt.Z,VTooltip:xt.Z});var he=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"mt-16"},[""!==t.$store.state.token?[a("v-container",{staticClass:"mt-5",attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"elevation-0"},[a("h2",[t._v("Registro de entradas y salidas")])])],1),a("v-col",{attrs:{cols:"6"}},["ADMIN"===t.$store.state.datos.rol||"BIBLIOTECARIA"===t.$store.state.datos.rol||"GUARDA"===t.$store.state.datos.rol?a("v-card",{staticClass:"elevation-0 d-flex justify-end"},[a("v-btn",{on:{click:function(e){return t.nuevoEquipo()}}},[t._v("Nuevo Registro")])],1):t._e()],1)],1)],1),a("v-data-table",{staticClass:"elevation-1 mt-5 mx-5",attrs:{headers:t.encabezados,items:t.entradas,"items-per-page":20},scopedSlots:t._u([{key:"item.opciones",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:t._u(["No se ha devuelto el pc"===t.fechaSalida(o.checkout)&&"ADMIN"===t.$store.state.datos.rol||"BIBLIOTECA"===t.$store.state.datos.rol||"BIBLIOTECARIA"===t.$store.state.datos.rol||"PORTERIA"===t.$store.state.datos.rol||"GUARDA"===t.$store.state.datos.rol?{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",attrs:{color:"orange"},on:{click:function(e){return t.devolver(o)}}},"v-icon",r,!1),s),[t._v(" mdi-keyboard-return")])]}}:null],null,!0)},[a("span",[t._v("Retorno del pc")])])]}},{key:"item.entrytime",fn:function(e){var o=e.item;return[a("span",[t._v(t._s(t.fechaEntrada(o.entrytime)))])]}},{key:"item.checkout",fn:function(e){var o=e.item;return["No se ha devuelto el pc"===t.fechaSalida(o.checkout)?a("span",{staticClass:"red--text"},[t._v(t._s(t.fechaSalida(o.checkout)))]):a("span",{staticClass:"green--text"},[t._v(t._s(t.fechaSalida(o.checkout)))])]}}],null,!0)},[a("template",{slot:"no-data"},[a("div",[a("span",[t._v("No hay datos por mostrar")])])])],2)]:a("v-container",[a("v-row",[a("v-col"),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:o(6315),height:"250",width:"250"}})],1),a("v-col")],1),a("v-row",[a("v-col",[a("v-alert",{attrs:{outlined:"",text:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[t._v(" En el momento su sesion ha caducado ❗ Por favor inicie sesion para interactuar con los servicios de biblioteca ")]),a("v-col",{staticClass:"shrink"},[a("v-btn",{attrs:{outlined:"",color:"red"},on:{click:function(e){return t.login()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-login ")]),t._v(" Login ")],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v("Registrar nueva entrada")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Quien registra",type:"text",disabled:""},model:{value:t.$store.state.datos.name,callback:function(e){t.$set(t.$store.state.datos,"name",e)},expression:"$store.state.datos.name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Serial del pc",type:"text"},model:{value:t.serial,callback:function(e){t.serial=e},expression:"serial"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Documento del aprendiz",type:"text"},model:{value:t.documento,callback:function(e){t.documento=e},expression:"documento"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.cerrarDialog()}}},[t._v(" Cerrar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.registrar_entrada()}}},[t._v(" Guardar ")])],1)],1)],1),a("v-overlay",{attrs:{value:t.overlay}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],2)},pe=[],ge={name:"PageRegistro",data(){return{overlay:!1,fecha:"",dialog:!1,serial:"",documento:"",lugar:"",entradas:[],span:!1,id_propietario:"",encabezados:[{text:"Rol",value:"holder.rol"},{text:"Persona encargada",align:"start",sortable:!1,value:"holder.name"},{text:"Serial PC",value:"laptop.serial"},{text:"Propietario",value:"laptop.holder.name"},{text:"Registro Inicial",value:"entrytime",sortable:!1},{text:"Aprendiz",value:"documentlearner.name",sortable:!1},{text:"Registro final",value:"checkout",sortable:!1},{text:"Opciones",value:"opciones",sortable:!1}]}},methods:{listarPrestamos(){let t={headers:{"x-token":this.$store.state.token}};Q().get(`https://cat-biblioteca.herokuapp.com/api/entry/date/pendientes/entrega/holder/${this.$store.state.datos._id}`,t).then((t=>{console.log(t),this.entradas=t.data.entry})).catch((t=>{console.log(t)}))},registrar_entrada(){console.log(this.$store.state.lugar);let t={headers:{"x-token":this.$store.state.token}};Q().post("https://cat-biblioteca.herokuapp.com/api/entry",{holder:this.$store.state.datos._id,laptop:this.serial,documentlearner:this.documento,checkout:"",place:this.$store.state.lugar},t).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Registro exitoso",showConfirmButton:!1,timer:2e3}),this.listarPrestamos()})).catch((t=>{console.log(t),J().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})}))},devolver(t){console.log(t);let e={headers:{"x-token":this.$store.state.token}};Q().put(`https://cat-biblioteca.herokuapp.com/api/entry/${t._id}`,{},e).then((t=>{console.log(t),this.listarPrestamos()})).catch((t=>{console.log(t)}))},login(){this.$router.replace("/")},nuevoEquipo(){this.dialog=!0},cerrarDialog(){this.dialog=!1},fechaEntrada(t){let e=new Date(t);return e.toLocaleDateString()+" - "+e.toLocaleTimeString()},fechaSalida(t){if(void 0===t||""===t)return this.span=!1,"No se ha devuelto el pc";{let e=new Date(t);return this.span=!0,e.toLocaleDateString()+" - "+e.toLocaleTimeString()}}},computed:{},created(){this.listarPrestamos()}},fe=ge,be=(0,d.Z)(fe,he,pe,!1,null,null,null),xe=be.exports;u()(be,{VAlert:ft.Z,VApp:O.Z,VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCardText:et.ZB,VCardTitle:et.EB,VCol:m.Z,VContainer:ot.Z,VDataTable:at.Z,VDialog:st.Z,VIcon:w.Z,VImg:V.Z,VOverlay:rt.Z,VProgressCircular:it.Z,VRow:lt.Z,VSpacer:E.Z,VTextField:ct.Z,VTooltip:xt.Z});var Ce=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-container",{staticClass:"mt-16",attrs:{fluid:""}},[o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}}),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-card",[o("v-card-title",{staticClass:"black white--text"},[o("span",[t._v("Cambio de contraseña")])]),o("v-card-text",[o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":t.show3?"mdi-eye":"mdi-eye-off",type:t.show3?"text":"password",name:"input-10-2",label:"Nueva contraseña"},on:{"click:append":function(e){t.show3=!t.show3}},model:{value:t.nueva1,callback:function(e){t.nueva1=e},expression:"nueva1"}})],1),o("v-col",{attrs:{cols:"12"}},[o("v-text-field",{staticClass:"input-group--focused",attrs:{name:"input-10-2",label:"Confirmar la nueva contraseña"},model:{value:t.nueva2,callback:function(e){t.nueva2=e},expression:"nueva2"}})],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{staticClass:"orange",attrs:{dense:"",elevation:"2"},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1),o("v-col",{attrs:{cols:"12",md:"4"}})],1)],1)],1)},ke=[],_e={name:"ResetearPassword",data(){return{show3:!1,nueva1:"",nueva2:""}},methods:{guardar(){const t=window.location.search;console.log(t);let e=new URLSearchParams(t),o=e.get("token"),a=e.get("id"),s={headers:{"x-token":o}};this.nueva1===this.nueva2?Q().post("https://cat-biblioteca.herokuapp.com/api/holder/passwordreset",{holderId:a,password:this.nueva2},s).then((t=>{console.log(t),J().fire({position:"bottom-end",icon:"success",title:"Cambio de contraseña exitoso",showConfirmButton:!1,timer:2e3})})).catch((t=>{console.log(t),J().fire({title:"<strong>Error en registro</strong>",icon:"error",html:`<h4>${t.response.data.errors[0].msg}</h4>`,showCloseButton:!0})})):(J().fire({title:"<strong>Error en contraseña</strong>",icon:"error",html:"<h4>No coinciden las contraseñas</h4>",showCloseButton:!0}),this.nueva1="",this.nueva2="")}}},ye=_e,$e=(0,d.Z)(ye,Ce,ke,!1,null,null,null),we=$e.exports;u()($e,{VBtn:$.Z,VCard:tt.Z,VCardActions:et.h7,VCardText:et.ZB,VCardTitle:et.EB,VCol:m.Z,VContainer:ot.Z,VRow:lt.Z,VSpacer:E.Z,VTextField:ct.Z});const Ve=[{path:"/",component:Ft},{path:"/reset",component:we},{path:"/miequipo",component:me},{path:"/inicio",component:le},{path:"/perfil",component:te},{path:"/persona",component:ut},{path:"/equipo",name:"equipo",component:kt},{path:"/registro",component:Zt},{path:"/misregistros",component:Bt},{path:"/usuarioregistro",component:Nt},{path:"/pendientes",component:xe},{path:"/reset",component:we}];var Ze=o(629);a.Z.use(Ze.ZP);const Ie=new Ze.ZP.Store({state:{token:"",datos:{},foto:"",lugar:""},mutations:{setToken(t,e){t.token=e},setDatos(t,e){t.datos=e},setFoto(t,e){t.foto=e},setLugar(t,e){t.lugar=e}},actions:{setToken(t,e){t.commit("setToken",e)},setDatos(t,e){t.commit("setDatos",e)},setFoto(t,e){t.commit("setFoto",e)},setLugar(t,e){t.commit("setLugar",e)}}});a.Z.use(U.Z),a.Z.use(G());const Ae=new U.Z({routes:Ve,mode:"hash"});a.Z.config.productionTip=!1,new a.Z({vuetify:z,router:Ae,store:Ie,render:t=>t(j)}).$mount("#app")},6315:function(t,e,o){t.exports=o.p+"img/good-night-sweet-dreams.df7e41a8.gif"}},e={};function o(a){var s=e[a];if(void 0!==s)return s.exports;var r=e[a]={exports:{}};return t[a].call(r.exports,r,r.exports,o),r.exports}o.m=t,function(){var t=[];o.O=function(e,a,s,r){if(!a){var i=1/0;for(d=0;d<t.length;d++){a=t[d][0],s=t[d][1],r=t[d][2];for(var l=!0,n=0;n<a.length;n++)(!1&r||i>=r)&&Object.keys(o.O).every((function(t){return o.O[t](a[n])}))?a.splice(n--,1):(l=!1,r<i&&(i=r));if(l){t.splice(d--,1);var c=s();void 0!==c&&(e=c)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[a,s,r]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var a in e)o.o(e,a)&&!o.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,a){var s,r,i=a[0],l=a[1],n=a[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(s in l)o.o(l,s)&&(o.m[s]=l[s]);if(n)var d=n(o)}for(e&&e(a);c<i.length;c++)r=i[c],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(d)},a=self["webpackChunkbiblioteca"]=self["webpackChunkbiblioteca"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=o.O(void 0,[998],(function(){return o(2262)}));a=o.O(a)})();
//# sourceMappingURL=app.680c133d.js.map